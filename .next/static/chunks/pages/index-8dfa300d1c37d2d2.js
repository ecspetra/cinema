(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8787)}])},8787:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return A},default:function(){return z}});var s=a(5893),l=a(7294),r=a(2226),i=a(4628),c=a(4193),o=a(381),n=a.n(o),u=a(4184),m=a.n(u),h=a(2342),d=e=>{let{itemsList:t,isMoreDataAvailable:a,onSelectItem:o,selectedItemId:u}=e,d=(0,l.useRef)(null),{isLoading:f,items:p}=(0,h.M)(d,t,a,r.ao);return(0,s.jsxs)("div",{ref:d,className:"overflow-auto flex flex-col flex-none max-w-sm w-full scrollbar-hide bg-gray-950 max-h-[200px] md:max-h-full",children:[p.length?p.map((e,t)=>(0,s.jsxs)(c.Z,{context:"listItem",onClick:()=>o(e),className:m()("group !p-0",u===e.id&&"bg-rose-600"),children:[(0,s.jsx)("span",{className:m()("w-20 h-full p-2 font-black mr-4 flex justify-center items-center flex-none duration-300",u===e.id?"bg-white text-gray-950":"bg-gray-800 group-hover:bg-white group-hover:text-gray-950"),children:n()(e.release_date).format("D MMM")}),(0,s.jsx)("span",{className:"text-left py-2",children:e.title})]},t)):(0,s.jsx)("span",{className:"mt-4 mx-auto",children:"No results found"}),f&&(0,s.jsx)(i.Z,{type:"static",className:"mb-4"})]})},f=a(9608),p=a(3028),x=a(3155),v=a(1654),b=a(2004),w=a.n(b),g=a(1084),S=a(9810),j=a(1590),y=e=>{let[t,a]=(0,l.useState)(e.items[0]),[s,r]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),o=s?g.qX.replace("{imageSrc}",s):"",n=async()=>{var e;let a=await (0,S.R)(j.zS.movie,t.id,"/images"),s=await (0,S.R)(j.zS.movie,t.id,"/videos"),l=s.results.length>0&&s.results.find(e=>("Teaser"===e.type||"Trailer"===e.type)&&"YouTube"===e.site),i=null===(e=a.backdrops[0])||void 0===e?void 0:e.file_path,o=i||"",n=l.key||"";r(o),c(n)};return(0,l.useEffect)(()=>{t&&n()},[t]),{imageFullSrc:o,videoSrc:i,selectedItem:t,setSelectedItem:a}},N=e=>{let{itemsList:t}=e,{imageFullSrc:a,videoSrc:l,selectedItem:r,setSelectedItem:i}=y(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{imageSrc:a,className:"-mb-72 after:h-full"}),(0,s.jsx)(v.Z,{children:"Upcoming movies"}),(0,s.jsxs)("div",{className:"bg-white p-1 flex flex-wrap md:flex-nowrap justify-between items-stretch md:max-h-[500px] mb-16 mt-44 md:mt-0",children:[l?(0,s.jsx)(w(),{url:"https://www.youtube.com/watch?v=".concat(l),controls:!0,width:"100%",height:"auto",style:{aspectRatio:"16/9"}}):(0,s.jsx)(f.Z,{src:a,defaultImage:p.Z,className:"aspect-[215/121]"}),(0,s.jsx)(d,{itemsList:t.items,isMoreDataAvailable:t.isMoreDataAvailable,selectedItemId:r?r.id:void 0,onSelectItem:i})]})]})},_=a(5410),M=a(5221),Z=a(2624),D=a(7245),T=a(5037);let k=async()=>{try{let e=await (0,T.Z)(r.bD.replace("{type}",j.zS.movie),1),t=await (0,T.Z)(r.ao,1);return{defaultMoviesData:e,upcomingMoviesData:t}}catch(e){throw e}};var A=!0,z=e=>{let{homePageProps:t}=e,{showModal:a}=(0,D.d)(),c=r.Zh.replace("{fieldName}","multi"),o=r.bD.replace("{type}",j.zS.movie),[n,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(null),[d,f]=(0,l.useState)(o),p=new URL(d).searchParams.get("query"),x=d.includes(o),b=x?j.zS.movie:j.zS.basic;return((0,l.useEffect)(()=>{t?(u(t.defaultMovies),h(t.upcomingMovies)):k().then(e=>{u(e.defaultMoviesData),h(e.upcomingMoviesData)}).catch(()=>{(0,Z.s9)(a,"An error has occurred"),u({items:[],isMoreDataAvailable:!1}),h({items:[],isMoreDataAvailable:!1})})},[t]),n&&m)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{itemsList:m}),(0,s.jsx)(v.Z,{children:x?"Popular movies":"Search results for '".concat(p,"'")}),(0,s.jsx)(M.Z,{collectionType:j.zS.movie,name:"defaultSearch",label:"Search for movie, TV show or person",urlToFetch:c,defaultUrlToFetch:o,onSearch:f,isSearchFieldWrapped:!0,isSearchApplied:!x}),(0,s.jsx)(_.Z,{itemsList:n.items,collectionType:b,isMoreDataAvailable:n.isMoreDataAvailable,urlToFetchItems:d,isFilterable:!0})]}):(0,s.jsx)(i.Z,{className:"bg-transparent"})}}},function(e){e.O(0,[885,4,347,342,188,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);